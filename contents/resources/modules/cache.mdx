---
title: Cache
description: O mÃ³dulo `Cache` no Lithe oferece uma maneira eficiente de armazenar e recuperar dados frequentemente acessados, melhorando o desempenho do aplicativo ao evitar operaÃ§Ãµes repetidas em dados que nÃ£o mudam frequentemente.
---

## InstalaÃ§Ã£o

Para instalar o pacote **`lithemod/cache`**, execute o seguinte comando no diretÃ³rio do seu projeto:

```bash
composer require lithemod/cache
```

Para mais detalhes, vocÃª pode verificar o cÃ³digo-fonte em [github.com/lithemod/cache](http://github.com/lithemod/cache).

---

## Armazenando e Recuperando Dados em Cache

### Armazenando Dados no Cache

Para armazenar dados no cache, utilize o mÃ©todo `add`. Este mÃ©todo requer uma chave Ãºnica, os dados a serem armazenados, um tempo de expiraÃ§Ã£o opcional (em segundos, o padrÃ£o Ã© **3600 segundos**) e um formato de serializaÃ§Ã£o opcional.

VocÃª pode armazenar dados em dois formatos:

- **JSON**: Use este formato para estruturas de dados simples, como arrays ou objetos.
- **Serialized**: Use este formato para tipos de dados complexos, que podem ser armazenados e recuperados em seu estado original.

Veja como armazenar dados:

```php
use Lithe\Support\Cache;

$app->post('/store-data', function ($req, $res) {
    $data = $req->input('data'); // Supondo que $data seja um array
    $cacheKey = 'data_key';

    // Armazenando como JSON
    Cache::add($cacheKey, $data, 3600, 'json');

    // Ou armazenando como serializado
    // Cache::add($cacheKey, $data, 3600, 'serialize');

    $res->send('Dados armazenados em cache com sucesso! ğŸ‰');
});
```

### Recuperando Dados do Cache

Para recuperar dados armazenados em cache, use o mÃ©todo `get`. Este mÃ©todo retorna os dados armazenados ou `null` se os dados nÃ£o forem encontrados no cache.

```php
use Lithe\Support\Cache;

$app->get('/get-data', function ($req, $res) {
    $cacheKey = 'data_key';
    $data = Cache::get($cacheKey) ?? 'Dados nÃ£o encontrados no cache. ğŸ˜';

    $res->json(['data' => $data]);
});
```

### Invalidando Itens do Cache

VocÃª pode remover itens especÃ­ficos do cache usando o mÃ©todo `invalidate`. Este mÃ©todo pode aceitar uma Ãºnica chave de cache ou um array de chaves, permitindo a invalidaÃ§Ã£o em massa.

```php
use Lithe\Support\Cache;

// Invalidando um item
$app->post('/invalidate-cache', function ($req, $res) {
    $cacheKey = 'data_key';
    Cache::invalidate($cacheKey);

    $res->send('Cache invalidado com sucesso! ğŸ—‘ï¸');
});

// Invalidando mÃºltiplos itens
$app->post('/invalidate-multiple-cache', function ($req, $res) {
    $cacheKeys = ['data_key', 'another_key'];
    Cache::invalidate($cacheKeys);

    $res->send('MÃºltiplos itens do cache invalidado com sucesso! ğŸ—‘ï¸');
});
```

### Recuperando Dados ou Executando um Callback

O mÃ©todo `remember` permite que vocÃª recupere dados do cache ou execute uma funÃ§Ã£o de callback para gerar os dados caso nÃ£o sejam encontrados no cache.

```php
use Lithe\Support\Cache;

$app->get('/settings', function ($req, $res) {
    $settings = Cache::remember('app_settings', function() {
        return ['theme' => 'dark', 'language' => 'pt'];
    });

    $res->json($settings);
});
```

---

## ConsideraÃ§Ãµes Finais

Com o **mÃ³dulo `Cache`**, vocÃª pode otimizar o desempenho da sua aplicaÃ§Ã£o gerenciando dados em cache de forma eficaz. VocÃª pode escolher entre os formatos JSON e serializado para armazenar dados com base nas suas necessidades. Certifique-se de definir uma estratÃ©gia de cache adequada com base nas necessidades especÃ­ficas da sua aplicaÃ§Ã£o e nos padrÃµes de acesso aos dados. Boa codificaÃ§Ã£o! ğŸš€
